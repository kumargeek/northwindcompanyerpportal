<mvc:View
    controllerName="northwinderpportal.controller.Customers"
    displayBlock="true"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
>
    <Page
        title="Customers"
        class="sapUiContentPadding"
    >
        <VBox class="sapUiSmallMargin">
            <!-- Here we'll use filters -->
            <HBox
                justifyContent="Start"
                alignItems="Center"
                class="sapUiSmallMarginBottom"
                wrap="true"
            >
                <VBox class="sapUiSmallMarginEnd">
                    <Text text="Customer Name" />
                    <ComboBox
                        id="customerNameFilter"
                        width="200px"
                        selectedKey=""
                        items="{/Customers}"
                    >
                        <core:Item
                            key="{CompanyName}"
                            text="{CompanyName}"
                        />
                    </ComboBox>
                </VBox>

                <VBox class="sapUiSmallMarginEnd">
                    <Text text="Customer ID" />
                    <ComboBox
                        id="customerIdFilter"
                        width="150px"
                        selectedKey=""
                        items="{/Customers}"
                    >
                        <core:Item
                            key="{CustomerID}"
                            text="{CustomerID}"
                        />
                    </ComboBox>
                </VBox>

                <VBox class="sapUiSmallMarginEnd">
                    <Text text="City" />
                    <ComboBox
                        id="cityFilter"
                        width="150px"
                        selectedKey=""
                        items="{/Customers}"
                    >
                        <core:Item
                            key="{City}"
                            text="{City}"
                        />
                    </ComboBox>
                </VBox>

                <Button
                    text="Get Customer Details"
                    press="onFilterCustomers"
                    type="Emphasized"
                    class="sapUiSmallMarginTop"
                />
            </HBox>

            <!-- Customer Table -->
            <Table
                id="CustomerTable"
                items="{customers>/}"
            >
                <headerToolbar>
                    <Toolbar>
                        <Title
                            text="Customer List"
                            level="H2"
                        />
                    </Toolbar>
                </headerToolbar>
                <columns>
                    <Column>
                        <Text text="Customer Name" />
                    </Column>
                    <Column>
                        <Text text="Customer ID" />
                    </Column>
                    <Column>
                        <Text text="City" />
                    </Column>
                </columns>

                <!--Here routed items from the Customers is fetched-->
                <items>
                    <ColumnListItem>
                        <cells>
                            <Text text="{customers>CompanyName}" />
                            <Text text="{customers>CustomerID}" />
                            <Text text="{customers>City}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </VBox>
    </Page>
</mvc:View>
